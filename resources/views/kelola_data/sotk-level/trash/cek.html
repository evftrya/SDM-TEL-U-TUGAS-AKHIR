<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lagg Market Organizational Chart</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- OrgChart.js -->
  <script src="https://balkan.app/js/OrgChart.js"></script>

  <style>
    body {
      background: linear-gradient(135deg, #eaecf0, #fcfcfd);
      font-family: 'Inter', sans-serif;
      color: #101828;
    }

    #tree {
      width: 100%;
      max-width: 1500px;
      height: 85vh;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 1.25rem;
      margin: 2rem auto;
      backdrop-filter: blur(16px);
      box-shadow: 0 12px 40px rgba(28, 39, 98, 0.15);
      border: 1px solid #d0d5dd;
    }

    /* Hover animation for nodes */
    .orgchart-node:hover {
      transform: scale(1.04);
      transition: all 0.25s ease-in-out;
      filter: drop-shadow(0 8px 12px rgba(0, 112, 255, 0.25));
    }

    /* Smooth zoom animation */
    .boc-element {
      transition: transform 0.3s ease;
    }
  </style>
</head>

<body>
  <div id="chart-container">
    <div id="tree"></div>
  </div>

  <script>
    const chart = new OrgChart(document.getElementById("tree"), {
      template: "olivia",
      scaleInitial: 1,
      enableSearch: true,
      toolbar: { zoom: true, fit: true, expandAll: true },
      linkBinding: { style: "M" },
      mouseScrool: OrgChart.action.move,
      showXScroll: OrgChart.scroll.visible,
      showYScroll: OrgChart.scroll.visible,
      scaleMin: 0.3,
      scaleMax: 6,
      pan: true,
      collapse: { level: 7 },
      nodeMouseDbClick: function (sender, args) {
        args.node.toggleCollapse();
      },
      nodeBinding: {
        field_0: "name",
        field_1: "division",
        field_2: "position",
        img_0: "photo",
      },
      nodes: [
        { id: 1, name: "Ava Reynolds", division: 'Head', position: "CEO", photo: "https://randomuser.me/api/portraits/women/47.jpg" },
        { id: 2, pid: 1, name: "James Miller", division: 'Chief Head', position: "VP of Operations", photo: "https://randomuser.me/api/portraits/men/36.jpg" },
        { id: 3, pid: 1, name: "Olivia Davis", division: 'Chief Head', position: "VP of Finance", photo: "https://randomuser.me/api/portraits/women/52.jpg" },
        { id: 4, pid: 1, name: "Liam Harris", division: 'Chief Head', position: "VP of HR", photo: "https://randomuser.me/api/portraits/men/22.jpg" },
        { id: 5, pid: 1, name: "Ethan Turner", division: 'Chief Head', position: "VP of Marketing", photo: "https://randomuser.me/api/portraits/men/27.jpg" },
        { id: 6, pid: 2, name: "Michael Johnson", division: 'A', position: "Director of Production", photo: "https://randomuser.me/api/portraits/men/44.jpg" },
        { id: 7, pid: 2, name: "Sophia Wilson", division: 'B', position: "Director of Logistics", photo: "https://randomuser.me/api/portraits/women/39.jpg" },
        { id: 8, pid: 2, name: "Benjamin Young", division: 'C', position: "Director of Procurement", photo: "https://randomuser.me/api/portraits/men/31.jpg" },
        { id: 9, pid: 3, name: "Ella Robinson", division: 'A', position: "Director of Accounting", photo: "https://randomuser.me/api/portraits/women/18.jpg" },
        { id: 10, pid: 3, name: "Noah Martinez", division: 'A', position: "Director of Budgeting", photo: "https://randomuser.me/api/portraits/men/26.jpg" },
        { id: 11, pid: 3, name: "Lucas Green", division: 'A', position: "Director of Financial Planning", photo: "https://randomuser.me/api/portraits/men/38.jpg" },
        { id: 12, pid: 4, name: "Amelia Clark", division: 'B', position: "Director of Recruitment", photo: "https://randomuser.me/api/portraits/women/45.jpg" },
        { id: 13, pid: 4, name: "Harper Adams", division: 'B', position: "Director of Employee Relations", photo: "https://randomuser.me/api/portraits/women/34.jpg" },
        { id: 14, pid: 5, name: "Mason Rivera", division: 'C', position: "Director of Brand Management", photo: "https://randomuser.me/api/portraits/men/23.jpg" },
        { id: 15, pid: 5, name: "Charlotte Scott", division: 'C', position: "Director of Digital Marketing", photo: "https://randomuser.me/api/portraits/women/24.jpg" },
        { id: 16, pid: 5, name: "Elijah Carter", division: 'C', position: "Director of Market Research", photo: "https://randomuser.me/api/portraits/men/33.jpg" },
      ],
    });

    // ðŸŒŒ Custom Elegant Template
    OrgChart.templates.olivia.size = [270, 140];

    OrgChart.templates.olivia.node =
      '<rect x="0" y="0" width="270" height="140" rx="18" ry="18" fill="#1C2762" stroke="#1C2762" stroke-width="1.5" style="box-shadow:0 4px 12px rgba(28,39,98,0.15);"></rect>';

    OrgChart.templates.olivia.img_0 =
      '<defs>' +
      '<radialGradient id="photoRing_{randId}" cx="50%" cy="50%" r="50%">' +
      '<stop offset="60%" stop-color="#0070FF"/>' +
      '<stop offset="100%" stop-color="#1C2762"/>' +
      '</radialGradient>' +
      '</defs>' +
      '<circle cx="55" cy="70" r="32" fill="url(#photoRing_{randId})"></circle>' +
      '<clipPath id="cp_{randId}">' +
      '<circle cx="55" cy="70" r="28"></circle>' +
      '</clipPath>' +
      '<image preserveAspectRatio="xMidYMid slice" clip-path="url(#cp_{randId})" xlink:href="{val}" x="27" y="42" width="56" height="56"></image>';

    OrgChart.templates.olivia.field_0 =
      '<text style="font-size:15px;font-weight:700;letter-spacing:0.3px;" fill="#FFFFFF" x="95" y="62">{val}</text>';

    OrgChart.templates.olivia.field_1 =
      '<text style="font-size:12px;font-weight:600;" fill="#0070FF" x="95" y="82">{val}</text>';

    OrgChart.templates.olivia.field_2 =
      '<text style="font-size:12px;opacity:0.8;" fill="#667085" x="95" y="98">{val}</text>';
      chart.fit();
  </script>
</body>
</html>
