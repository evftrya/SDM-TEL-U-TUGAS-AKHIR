<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tabel Tailwind dengan Sorting Ikon</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a2e0e6adbd.js" crossorigin="anonymous"></script>
  <style>
    th { cursor: pointer; user-select: none; transition: color 0.3s ease; }
    tbody tr:hover { background-color: #f9fafb; transition: all 0.2s ease-in-out; }
  </style>
</head>

<body class="bg-gray-100 p-8">

  <div class="h-auto max-h-fit w-full flex flex-row justify-center items-center gap-2.5 rounded mb-3">
    <div class="flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-300 flex-grow sm:w-1/3">
      <i class="fa-solid fa-magnifying-glass text-gray-500 text-sm"></i>
      <input id="customSearchInput" type="text" placeholder="Search" class="font-medium border-none outline-none p-1 focus:ring-0 w-full text-sm text-gray-700">
    </div>
  </div>

  <div class="overflow-hidden pb-2 pt-0 w-full">
    <div class="overflow-x-auto">
      <div class="inline-block w-full align-middle">
        <div class="border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm">
          <table id="employeeTable" class="min-w-full table-auto text-sm text-gray-800">
            <thead class="bg-blue-50 text-blue-700 uppercase text-xs font-semibold text-center">
              <tr>
                <th class="px-4 py-3">Nama Lengkap <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">Gender <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">No. HP <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">Tipe Pegawai <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">Status <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">Is Active <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">Email Pribadi <i class="bi bi-filter sort-icon"></i></th>
                <th class="px-4 py-3">Email Institusi <i class="bi bi-filter sort-icon"></i></th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-100 text-center">
              <tr>
                <td class="px-4 py-3">Nur Laila Fitria</td>
                <td class="px-4 py-3">Perempuan</td>
                <td class="px-4 py-3">081234567890</td>
                <td class="px-4 py-3">Dosen</td>
                <td class="px-4 py-3">Pegawai Tetap</td>
                <td class="px-4 py-3"><span class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Active</span></td>
                <td class="px-4 py-3">nurlaila@gmail.com</td>
                <td class="px-4 py-3">nurlaila@telkomuniversity.ac.id</td>
              </tr>
              <tr>
                <td class="px-4 py-3">Rizky Hidayat</td>
                <td class="px-4 py-3">Laki-laki</td>
                <td class="px-4 py-3">082134567891</td>
                <td class="px-4 py-3">TPA</td>
                <td class="px-4 py-3">Pegawai Tetap</td>
                <td class="px-4 py-3"><span class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Active</span></td>
                <td class="px-4 py-3">rizkyh@gmail.com</td>
                <td class="px-4 py-3">rizkyh@telkomuniversity.ac.id</td>
              </tr>
              <tr>
                <td class="px-4 py-3">Siti Aminah</td>
                <td class="px-4 py-3">Perempuan</td>
                <td class="px-4 py-3">081345678912</td>
                <td class="px-4 py-3">Dosen</td>
                <td class="px-4 py-3">Pegawai Kontrak</td>
                <td class="px-4 py-3"><span class="bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-semibold">Inactive</span></td>
                <td class="px-4 py-3">sitiaminah@gmail.com</td>
                <td class="px-4 py-3">sitiaminah@telkomuniversity.ac.id</td>
              </tr>
              <tr>
                <td class="px-4 py-3">Agus Santoso</td>
                <td class="px-4 py-3">Laki-laki</td>
                <td class="px-4 py-3">082255678913</td>
                <td class="px-4 py-3">TPA</td>
                <td class="px-4 py-3">Pegawai Tetap</td>
                <td class="px-4 py-3"><span class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Active</span></td>
                <td class="px-4 py-3">agus.s@gmail.com</td>
                <td class="px-4 py-3">agus@telkomuniversity.ac.id</td>
              </tr>
              <tr>
                <td class="px-4 py-3">Dewi Kartika</td>
                <td class="px-4 py-3">Perempuan</td>
                <td class="px-4 py-3">081378965432</td>
                <td class="px-4 py-3">Dosen</td>
                <td class="px-4 py-3">Pegawai Tetap</td>
                <td class="px-4 py-3"><span class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold">Active</span></td>
                <td class="px-4 py-3">dewi.k@gmail.com</td>
                <td class="px-4 py-3">dewi@telkomuniversity.ac.id</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

<script>
(function() {
  const table = document.getElementById('employeeTable');
  const thead = table.tHead;
  let sortState = { index: null, dir: 'ascending' };

  function getCellValue(td) {
    return td.textContent.trim().toLowerCase();
  }

  function compare(a, b, dir) {
    return dir === 'ascending' ? a.localeCompare(b, 'id') : b.localeCompare(a, 'id');
  }

  function resetIcons() {
    table.querySelectorAll('th i.sort-icon').forEach(icon => {
      icon.className = 'bi bi-filter sort-icon text-gray-400';
    });
  }

  function sortByColumn(index) {
    const headers = Array.from(thead.rows[0].cells);
    const th = headers[index];
    const icon = th.querySelector('i.sort-icon');
    const dir = (sortState.index === index && sortState.dir === 'ascending') ? 'descending' : 'ascending';
    sortState = { index, dir };

    resetIcons();
    icon.className = dir === 'ascending' ? 'bi bi-sort-up sort-icon text-blue-500' : 'bi bi-sort-down sort-icon text-blue-500';

    const tbody = table.tBodies[0];
    const rows = Array.from(tbody.rows);
    rows.sort((a, b) => compare(getCellValue(a.cells[index]), getCellValue(b.cells[index]), dir));
    rows.forEach(r => tbody.appendChild(r));
  }

  Array.from(thead.rows[0].cells).forEach((th, idx) => {
    th.addEventListener('click', () => sortByColumn(idx));
  });

  document.getElementById('customSearchInput').addEventListener('keyup', function() {
    const value = this.value.toLowerCase();
    const rows = table.querySelectorAll('tbody tr');
    rows.forEach(row => {
      row.style.display = row.textContent.toLowerCase().includes(value) ? '' : 'none';
    });
  });
})();
</script>

</body>
</html>
